<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#0f3d2e" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Angel｜課程編輯工作台</title>
  <meta name="description" content="幸福教養｜課程編輯＋存取後臺（發想/草稿/完稿）" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logoDot" aria-hidden="true"></div>
      <div class="titles">
        <div class="kicker">幸福教養</div>
        <div class="h1">課程編輯工作台</div>
      </div>
    </div>

    <div class="statusPills" role="tablist" aria-label="狀態">
      <button class="pill" data-state="idea" role="tab" aria-selected="true">發想</button>
      <button class="pill" data-state="draft" role="tab" aria-selected="false">草稿</button>
      <button class="pill" data-state="final" role="tab" aria-selected="false">完稿</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="cardHead">
        <div>
          <div class="cardTitle">直接編輯</div>
          <div class="cardSub">進來就能寫。存檔會依「發想/草稿/完稿」自動存回後臺分頁。</div>
        </div>
        <div class="mini">
          <span class="chip" id="chipState">發想</span>
          <span class="chip" id="chipId">未存檔</span>
        </div>
      </div>

      <div class="grid">
        <label class="field">
          <span>課程名稱</span>
          <input id="title" type="text" placeholder="例如：幸福教養體驗活動：從情緒急救到關係修復" />
        </label>

        <label class="field">
          <span>形式（下拉）</span>
          <select id="kind">
            <option value="演講">演講</option>
            <option value="模組課程">模組課程</option>
            <option value="單場課程">單場課程</option>
            <option value="單場活動">單場活動</option>
            <option value="其他">其他（手動輸入）</option>
          </select>
        </label>

        <label class="field" id="kindOtherWrap" style="display:none">
          <span>其他（請寫）</span>
          <input id="kind_other" type="text" placeholder="例如：工作坊/讀書會/陪跑計畫…" />
        </label>

        <label class="field">
          <span>對象</span>
          <input id="audience" type="text" placeholder="例如：親子/家長/老師/企業…" />
        </label>

        <label class="field">
          <span>關鍵痛點 / 標籤</span>
          <input id="tags" type="text" placeholder="#腦袋停不下來 #親子卡住 #溝通斷線…" />
        </label>

        <label class="field">
          <span>堂數/集數（模組用）</span>
          <input id="module_sessions" type="text" placeholder="例如：8（可留白）" />
        </label>

        <label class="field">
          <span>每堂時間（分鐘/文字）</span>
          <input id="session_minutes" type="text" placeholder="例如：90 / 120 / 90-120" />
        </label>

        <label class="field">
          <span>單場時長（分鐘/文字）</span>
          <input id="single_duration" type="text" placeholder="例如：60 / 90 / 120" />
        </label>

        <label class="field">
          <span>人數（可空）</span>
          <input id="capacity" type="text" placeholder="例如：20" />
        </label>

        <label class="field">
          <span>版本（可空）</span>
          <input id="version" type="text" placeholder="例如：v1.0" />
        </label>
      </div>

      <div class="stack">
        <label class="field">
          <span>對外摘要（summary）</span>
          <textarea id="summary" rows="3" placeholder="對外一段話：這堂課/活動要帶走什麼？"></textarea>
        </label>

        <label class="field">
          <span>目標（objectives，條列也行）</span>
          <textarea id="objectives" rows="3" placeholder="例如：1) 大人先穩定 2) 孩子情緒急救 3) 關係修復…"></textarea>
        </label>

        <label class="field">
          <span>流程/大綱（outline）</span>
          <textarea id="outline" rows="5" placeholder="例如：開場→五感覺察→反應選擇→OK蹦修復…"></textarea>
        </label>

        <label class="field">
          <span>教材/作業（materials）</span>
          <textarea id="materials" rows="4" placeholder="例如：練習單、回家任務、結業小抄…"></textarea>
        </label>

        <label class="field">
          <span>連結（links）</span>
          <textarea id="links" rows="3" placeholder="可貼工具連結/影片連結，多行也可以"></textarea>
        </label>

        <label class="field">
          <span>文稿（script/notes）</span>
          <textarea id="notes" rows="6" placeholder="講稿/口播/主持稿/課程講義都可以放這裡（會一起存回後臺）"></textarea>
        </label>
      </div>

      <div class="actions">
        <button class="btn ghost" id="btnNew">新文件</button>
        <button class="btn ghost" id="btnLoad">載入（用 ID）</button>
        <button class="btn" id="btnSave">存回後臺</button>
        <button class="btn danger" id="btnDelete" disabled>刪除（後臺）</button>
      </div>

      <div class="helper">
        <div class="row">
          <div class="muted">自動草稿（本機）</div>
          <button class="linkBtn" id="btnLocalSave">存本機</button>
          <button class="linkBtn" id="btnLocalLoad">載入本機</button>
          <button class="linkBtn" id="btnExport">匯出 JSON</button>
        </div>
        <div class="row">
          <div class="muted">後臺狀態</div>
          <div id="apiStatus" class="mono">尚未連線</div>
        </div>
      </div>
    </section>

    <section class="card small">
      <div class="cardHead">
        <div>
          <div class="cardTitle">快速說明</div>
          <div class="cardSub">你要的「直接編輯＋存取後臺」在這裡：不用清單也能工作。</div>
        </div>
      </div>
      <ol class="steps">
        <li>選狀態：發想/草稿/完稿（決定存到哪個分頁）。</li>
        <li>直接寫內容 → 按「存回後臺」。第一次存會自動產生 ID，之後就是更新同一筆。</li>
        <li>要改不同筆：用「載入（用 ID）」把後臺那筆拉回來繼續改。</li>
      </ol>
    </section>
  </main>

  <footer class="footer">
    <span>Angel｜把心站穩，活得自在。</span>
  </footer>

  <script src="./app.js"></script>
</body>
</html>
